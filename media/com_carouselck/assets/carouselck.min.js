!function(X){var Y=function(a,l,t){if(!(this instanceof Y))return new Y(a,l,t);t=window.carouselcks||[];if(!(-1<t.indexOf(a))){t.push(a),window.carouselcks=t;var l=X.extend({},{wrapheight:"40%",imageheight:"62%",imagesratio:"0.72",pagination:!0,navigation:!0,navigationHover:!1,duration:600,time:3e3,captionduration:600,easing:"easeInOutExpo",autoAdvance:!0,playPause:!0,lightbox:"mediaboxck",thumbnails:!0,captionresponsive:!0,imagePath:"modules/mod_carouselck/images/"},l),p=X(a).addClass("carousel_wrap");p.append('<div class="carouselck_src"></div>'),p.append('<div class="carouselck_images"></div>'),p.append('<div class="carouselck_thumbs_cont"></div>'),p.append('<div class="carouselck_captions"></div>'),p.append('<div class="carouselck_videos"></div>'),1==l.pagination&&p.append('<div class="carouselck_pag"></div>');var u=X(".carouselck_pag",p),s=X(".carouselck_images",p),d=X(".carouselck_captions",p),m=X(".carouselck_videos",p),g=X(".carouselck_thumbs_cont",p),e=new Array,k=new Array,v=new Array,f=new Array,_=new Array,x=new Array,w=new Array,i=new Array,n=new Array,o=new Array,c=new Array,y=new Array,b=new Array,I=new Array,A=new Array,C=new Array,F=new Array,O=new Array,z=new Array;X("> div.carouselck",p).each(function(){X(this).find("> img").length?e.push(X(this).find("> img").attr("src")):e.push(X(this).attr("data-src")),X(this).attr("data-thumb")?i.push(X(this).attr("data-thumb")):i.push(""),X(this).attr("data-link")?n.push(X(this).attr("data-link")):n.push(""),X(this).attr("data-rel")?o.push('rel="'+X(this).attr("data-rel")+'" '):o.push(""),X(this).attr("data-title")?c.push('title="'+X(this).attr("data-title")+'" '):c.push(""),X(this).attr("data-target")?y.push(X(this).attr("data-target")):y.push(""),X(this).attr("data-alt")?b.push(X(this).attr("data-alt")):b.push(""),X(this).css("display","none"),X(".carouselck_src",p).append(X(this))});var T=e.length,q=p.width();p.css({width:"100%",height:p.width()*(parseFloat(l.wrapheight)/100)});var P,W,L,B=!1;for(A[1]=p.height(),I[1]=parseFloat(A[1])/parseFloat(l.imageheight)*100,C[1]=p.width()/2-I[1]/2,F[1]=0,O[1]=1e3,z[1]=1,imagesmtmpoffset=I[1]/2*l.imagesratio*l.imagesratio,A[0]=A[1]*l.imagesratio,I[0]=I[1]*l.imagesratio,C[0]=C[1]-imagesmtmpoffset,F[0]=(A[1]-A[0])/2,O[0]=O[1]-11,z[0]=.8,A[2]=A[0],I[2]=I[0],C[2]=C[1]+I[1]-I[2]+imagesmtmpoffset,F[2]=F[0],O[2]=O[1]-10,z[2]=.8,A[-1]=A[0]*l.imagesratio,I[-1]=A[0]*l.imagesratio,C[-1]=p.width()/2-A[-1]/2,F[-1]=(A[0]-A[-1])/2,O[-1]=O[0]-10,z[-1]=0,P=1;P<T+1;P++){imgopacity=1,P<3?W=P:P==T?W=0:(W=-1,imgopacity=0);for(var H=new Array,M=0;M<e.length;M++){var S=e[M];imgsrctmp=S.split("/"),imgnametmp=imgsrctmp[imgsrctmp.length-1],H.push(imgnametmp)}var R=new Array;X(".carouselck_caption",p).each(function(){var a=X(this).parent().index(),t=X(this).find(".carouselck_caption_title").text().trim(),e=X(this).find(".carouselck_caption_desc").text().trim(),a=t.length?t:e||H[a];R.push(a)}),newImg=new Image,X(newImg).css({position:"absolute",height:A[W],width:I[W],left:C[W],top:F[W],"z-index":O[W],opacity:imgopacity}),newImg.src=e[P-1],X(newImg).attr("width",parseInt(I[W])),X(newImg).attr("height",parseInt(A[W])),X(newImg).attr("alt",R[P-1]||b[P-1]),1==P&&X(newImg).addClass("carouselckcurrentimg"),imgindex=P==T?0:P,X(newImg).attr("index",imgindex),X(newImg).attr("naturalindex",P-1),s.append(X(newImg)),X(newImg).click(function(){B||K(J(X(this).attr("index")),J(X(this).attr("index")))}).mouseover(function(){}).mouseleave(function(){}),(L="")!=n[P-1]&&(L=X('<a class="carouselck_link" aria-label="Link for : '+b[P-1]+'" '+o[P-1]+c[P-1]+'href="'+n[P-1]+'"  target="'+y[P-1]+'"></a>'),s.append(L)),1==P&&""!=n[P-1]&&L.css({display:"block",left:C[W],top:F[W],width:I[W],height:A[W]}),v[imgindex]=A[W],k[imgindex]=I[W],f[imgindex]=C[W],_[imgindex]=F[W],x[imgindex]=O[W],w[imgindex]=z[W]}var $,j,E,N=X("> img",s);if(X(".carouselck_caption",p).each(function(){X(this).hasClass("emptyck")||X(this).wrapInner("<div />"),X(this).hide(),d.append(X(this))}),d.css({position:"absolute",height:parseInt(A[1]),width:parseInt(I[1]),left:parseInt(C[1])+parseInt(X(".carouselckcurrentimg").css("borderLeftWidth")),top:parseInt(F[1])+parseInt(X(".carouselckcurrentimg").css("borderTopWidth"))}),U(0),X(".carouselck_src iframe",p).each(function(){X(this).attr("naturalindex",X(this).parent().index()),X(this).hide(),m.append(X(this))}),m.css({position:"absolute","z-index":1e3,height:parseInt(A[1]),width:parseInt(I[1]),left:parseInt(C[1])+parseInt(X(".carouselckcurrentimg").css("borderLeftWidth")),top:parseInt(F[1])+parseInt(X(".carouselckcurrentimg").css("borderTopWidth"))}),m.hide(),X("iframe",X(".carouselck_videos",p)).each(function(){var a=X(this),t=a.attr("src"),e=l.imagePath+"blank.gif",i=new Image;i.src=e,h=parseInt(l.height),a.after(X(i).attr({class:"imgFake"}).css({width:X(".carouselck_videos",p).width(),height:X(".carouselck_videos",p).height(),position:"absolute",top:"0",left:"0",cursor:"pointer"})),X(i).bind("click",function(){"absolute"==X(this).css("position")?(X(this).remove(),-1!=t.indexOf("vimeo")||-1!=t.indexOf("youtube")?autoplay=-1!=t.indexOf("?")?"&autoplay=1":"?autoplay=1":-1!=t.indexOf("dailymotion")&&(autoplay=-1!=t.indexOf("?")?"&autoPlay=1":"?autoPlay=1"),a.attr("src",t+autoplay),videoPresent=!0,autoAdv=!1,s.addClass("paused"),clearTimeout(E),X(".carouselck_stop",Q).length&&(X(".carouselck_stop",Q).hide(),X(".carouselck_play",Q).show())):(X(this).css({position:"absolute",top:0,left:0,zIndex:10}).after(a),a.css({position:"absolute",top:0,left:0,zIndex:9}))})}),X(".imgFake").hide(),X("iframe[naturalindex=0]",X(".carouselck_videos",p)).length&&(m.show(),X("iframe[naturalindex=0]",X(".carouselck_videos",p)).show().next(".imgFake").show()),X(u).length){for(X(u).append('<div class="carouselck_pag_ul" />'),$=0;$<T;$++)X(".carouselck_pag_ul",p).append('<div class="carouselck_pag_nav pag_nav_'+$+'" style="position:relative; z-index:1002"><span><span>'+$+"</span></span></div>");X(".carouselck_pag_ul .carouselck_pag_nav",p).hover(function(){var a,t,e;X(this).addClass("carouselck_hover"),X(".carouselck_thumb",this).length&&(a=X(".carouselck_thumb",this).outerWidth(),t=X(".carouselck_thumb",this).outerHeight(),e=X(this).outerWidth(),X(".carouselck_thumb",this).show().css({top:"-"+t+"px",left:"-"+(a-e)/2+"px"}).animate({opacity:1,"margin-top":"-3px"},200),X(".thumb_arrow",this).show().animate({opacity:1,"margin-top":"-3px"},200))},function(){X(this).removeClass("carouselck_hover"),X(".carouselck_thumb",this).animate({"margin-top":"-20px",opacity:0},200,function(){X(this).css({marginTop:"5px"}).hide()}),X(".thumb_arrow",this).animate({"margin-top":"-20px",opacity:0},200,function(){X(this).css({marginTop:"5px"}).hide()})}).click(function(){var a;B||K(a=X(this).attr("index")-X(".carouselckcurrent",u).attr("index"),a)})}X(g).length&&(X.each(i,function(a,t){var e,i;""!=X("> div.carouselck",p).eq(a).attr("data-thumb")&&1==l.thumbnails&&(e=X("div.carouselck_src > div.carouselck",p).eq(a).attr("data-thumb"),(i=new Image).src=e,X(i).attr("alt",R[a]||b[a]),X(".pag_nav_"+a,u).attr("index",a).append(X(i).attr("class","carouselck_thumb").css({position:"absolute"}).animate({opacity:0},0)),X(".pag_nav_"+a+" > img",u).after('<div class="thumb_arrow" />'),X(".pag_nav_"+a+" > .thumb_arrow",u).animate({opacity:0},0))}),X(".carouselck_pag .carouselck_pag_nav",p).removeClass("carouselckcurrent"),X(".carouselck_pag .carouselck_pag_nav",p).eq(0).addClass("carouselckcurrent")),X(window).bind("resize pageshow",function(){function a(){wrapw=p.width(),r=wrapw/q,p.css("height",p.width()*(parseFloat(l.wrapheight)/100)),N.each(function(a,t){var e=(t=X(t)).attr("index"),i=parseInt(k[e])*r,s=parseInt(v[e])*r,n=parseInt(f[e])*r,e=parseInt(_[e])*r;t.css({height:s,width:i,left:n,top:e})}),X(".carouselck_captions, .carouselck_videos, .carouselck_link",p).css({height:parseInt(A[1])*r,width:parseInt(I[1])*r,left:parseInt(C[1])*r+parseInt(X(".carouselckcurrentimg").css("borderLeftWidth")),top:parseInt(F[1])*r+parseInt(X(".carouselckcurrentimg").css("borderTopWidth"))})}var t;1==j?(clearTimeout(void 0),setTimeout(a,200)):a(),j=!0,1==l.captionresponsive&&(t=p.width()/500,X(".carouselck_caption > div",p).css("font-size",t+"em"))}),"mediaboxck"==l.lightbox&&"undefined"!=typeof Mediabox?Mediabox.scanPage():"squeezebox"==l.lightbox&&(SqueezeBox.initialize({}),SqueezeBox.assign($$("a.camera_link[rel=lightbox]"),{})),0==l.autoAdvance&&s.addClass("paused"),V(0),1==l.playPause&&p.append('<div class="carouselck_commands"></div>');var Q=X(".carouselck_commands",p);X(Q).length&&(X(Q).append('<div class="carouselck_play"></div>').append('<div class="carouselck_stop"></div>'),1==l.autoAdvance?(X(".carouselck_play",p).hide(),X(".carouselck_stop",p).show()):(X(".carouselck_stop",p).hide(),X(".carouselck_play",p).show())),1==l.navigation&&p.append('<div class="carouselck_prev"><span></span></div>').append('<div class="carouselck_next"><span></span></div>'),p.on("click",".carouselck_stop",function(){autoAdv=!1,s.addClass("paused"),clearTimeout(E),X(".carouselck_stop",Q).length&&(X(".carouselck_stop",Q).hide(),X(".carouselck_play",Q).show())}),p.on("click",".carouselck_play",function(){autoAdv=!0,s.removeClass("paused"),X(".carouselck_play",Q).length&&(X(".carouselck_play",Q).hide(),X(".carouselck_stop",Q).show(),V())}),p.on("click",".carouselck_next",function(){K(1,1)}),p.on("click",".carouselck_prev",function(){K(-1,-1)});var D=X(".carouselck_prev",p),G=X(".carouselck_next",p);1==l.navigationHover&&(X(D,p).animate({opacity:0},0),X(G,p).animate({opacity:0},0),X(Q,p).animate({opacity:0},0),p.hover(function(){X(D,p).animate({opacity:1},200),X(G,p).animate({opacity:1},200),X(Q,p).animate({opacity:1},200)},function(){X(D,p).animate({opacity:0},200),X(G,p).animate({opacity:0},200),X(Q,p).animate({opacity:0},200)})),(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i))&&(p.bind("swipeleft",function(a){K(1,1)}),p.bind("swiperight",function(a){K(-1,-1)}))}function J(a){return a-X(".carouselckcurrentimg",p).attr("index")}function K(e,i){var s,n,o,c=(e=e||1)<0?"fromleft":"fromright";i=i||1,0!=e&&(i=Math.abs(e),0<e?e--:e++,i<=0&&(i=1),B||(B=!0,wrapw=p.width(),r=wrapw/q,X(".carouselck_caption",d).hide(),X("iframe",m).hide(),m.hide(),X(".imgFake").hide(),n="",o=!1,N.each(function(a,t){t=X(t),imgIndex=t.attr("index"),t.next("a.carouselck_link").length&&t.next("a.carouselck_link").css("display","none"),1==(s="fromleft"==c?parseInt(imgIndex)==T-1?0:parseInt(imgIndex)+1:0==parseInt(imgIndex)?T-1:parseInt(imgIndex)-1)&&t.css("z-index","1010"),1==s&&(n=a,iNatural=t.attr("naturalindex")),t.zindex=x[s],t.animate({left:parseInt(f[s])*r,top:parseInt(_[s])*r,width:parseInt(k[s])*r,height:parseInt(v[s])*r,opacity:w[s]},l.duration/i,"linear",function(){t.css("z-index",t.zindex),""!==n&&0==o&&(0!=e?(B=!1,K(e,i)):(V(n),B=!1,U(n),X("iframe[naturalindex="+n+"]",X(".carouselck_videos",p)).length&&0==e&&(m.show(),X("iframe[naturalindex="+n+"]",X(".carouselck_videos",p)).show().next(".imgFake").show()),X("img[naturalindex="+n+"]",p).next("a.carouselck_link").length&&X("img[naturalindex="+n+"]",p).next("a.carouselck_link").css({display:"block",left:parseInt(f[1])*r+parseInt(X(".carouselckcurrentimg").css("borderLeftWidth")),top:parseInt(_[1])*r+parseInt(X(".carouselckcurrentimg").css("borderTopWidth")),width:parseInt(k[1])*r,height:parseInt(v[1])*r})),o=!0)}),t.attr("index",s),1==s?(t.addClass("carouselckcurrentimg"),X(u).length&&(thumbindex=a>X(".carouselck_pag_nav",u).length?0:a,X(".carouselck_pag_nav",u).removeClass("carouselckcurrent"),X(".carouselck_pag_nav",u).eq(thumbindex).addClass("carouselckcurrent")),X(g).length&&(thumbindex=a>X(".carouselck_pag_nav",g).length?0:a,X(".carouselck_pag_nav",g).removeClass("carouselckcurrent"),X(".carouselck_pag_nav",g).eq(thumbindex).addClass("carouselckcurrent"),X(".carouselck_pag_nav",g).not(".carouselckcurrent").find("img").animate({opacity:.5},0),X(".carouselck_pag_nav.carouselckcurrent img",g).animate({opacity:1},0),X(".carouselck_pag_nav",g).hover(function(){X("img",this).stop(!0,!1).animate({opacity:1},150)},function(){X(this).hasClass("carouselckcurrent")||X("img",this).stop(!0,!1).animate({opacity:.5},150)}))):t.removeClass("carouselckcurrentimg")})))}function U(a){var t,e,i,s,r,n=X(".carouselck_src > div",p).eq(a).attr("data-time");time=void 0!==n&&!1!==n&&""!==n?parseFloat(n):l.time,captionindex=a,X(".carouselck_caption:eq("+captionindex+")",d).length&&!X(".carouselck_caption:eq("+captionindex+")",d).hasClass("emptyck")&&(t=""!=X(this).attr("data-easing")?X(this).attr("data-easing"):l.easing,(i=(e=X(".carouselck_caption:eq("+captionindex+")",d)).position()).left,i.top,s=e.attr("class"),e.index(),r=e.outerHeight(),n=p.height(),a=p.width(),e.css("display","block"),-1!=s.indexOf("moveFromLeft")?(e.css({left:"-"+a+"px",right:"auto"}),e.css("visibility","visible").animate({left:i.left},l.captionduration,t)):-1!=s.indexOf("moveFromRight")?(e.css({left:a+"px",right:"auto"}),e.css("visibility","visible").animate({left:i.left},l.captionduration,t)):-1!=s.indexOf("moveFromTop")?(e.css({top:"-"+n+"px",bottom:"auto"}),e.css("visibility","visible").animate({top:i.top},l.captionduration,t,function(){e.css({top:"auto",bottom:0})})):-1!=s.indexOf("moveFromBottom")?(e.css({top:n+"px",bottom:"auto"}),e.css("visibility","visible").animate({top:0},l.captionduration,t)):-1!=s.indexOf("fadeFromLeft")?(e.animate({opacity:0},0).css({left:"-"+a+"px",right:"auto"}),e.css("visibility","visible").animate({left:i.left,opacity:1},l.captionduration,t)):-1!=s.indexOf("fadeFromRight")?(e.animate({opacity:0},0).css({left:a+"px",right:"auto"}),e.css("visibility","visible").animate({left:i.left,opacity:1},l.captionduration,t)):-1!=s.indexOf("fadeFromTop")?(e.animate({opacity:0},0).css({top:"-"+n+"px",bottom:"auto"}),e.css("visibility","visible").animate({top:i.top,opacity:1},l.captionduration,t,function(){e.css({top:"auto",bottom:0})})):-1!=s.indexOf("fadeFromBottom")?(e.animate({opacity:0},0).css({bottom:"-"+r+"px"}),e.css("visibility","visible").animate({bottom:"0",opacity:1},l.captionduration,t)):-1!=s.indexOf("fadeIn")?e.animate({opacity:0},0).css("visibility","visible").animate({opacity:1},l.captionduration,t):e.css("visibility","visible"))}function V(a){0!=l.autoAdvance&&(a=X(".carouselck_src > div",p).eq(a).attr("data-time"),time=void 0!==a&&!1!==a&&""!==a?parseFloat(a):l.time,s.hasClass("paused")||(clearTimeout(E),E=setTimeout(K,time)))}};window.Carouselck=Y}(jQuery);